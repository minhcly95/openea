<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>OpenEA: ea::MultiThreading Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenEA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classea_1_1_multi_threading.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classea_1_1_multi_threading-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ea::MultiThreading Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Static class providing multi-threading feature. </p>
<p><a class="el" href="classea_1_1_multi_threading.html" title="Static class providing multi-threading feature. ">MultiThreading</a> class provides functions to control and execute code in parallel using OpenMP. To execute a for loop in parallel, see <a class="el" href="classea_1_1_multi_threading.html#ab4ed95e3dfb927b465a6a0b20028dc6e" title="Execute a for loop in parallel. ">For()</a> function. To adjust and query the number of threads, see <a class="el" href="classea_1_1_multi_threading.html#adab578dfbb176a43185f975afca4c473" title="Set the maximum number of threads allowed. ">SetNumThreads()</a> and <a class="el" href="classea_1_1_multi_threading.html#a17a8ba96091c266d815f0aba55b45d23" title="Get the maximum number of threads allowed when multi-threading. ">GetNumThreads()</a> functions.</p>
<p>The multi-threading feature is automatically disabled if cluster computation is activated to avoid interference (because cluster computation is usually blocking and takes all of the CPU usage). If users deploy the cluster remotely and still have some CPU cores to spare, multi-threading feature can be forced to be enabled by calling <a class="el" href="classea_1_1_multi_threading.html#a8dcaa2faef642ab507c184d3bb567b72" title="Force-enable the multi-threading feature. ">SetForceEnabled()</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classea_1_1_multi_threading.html#ab4ed95e3dfb927b465a6a0b20028dc6e" title="Execute a for loop in parallel. ">For()</a> </dd></dl>

<p>Definition at line <a class="el" href="_multi_threading_8h_source.html#l00014">14</a> of file <a class="el" href="_multi_threading_8h_source.html">MultiThreading.h</a>.</p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ab4ed95e3dfb927b465a6a0b20028dc6e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classea_1_1_multi_threading.html#ab4ed95e3dfb927b465a6a0b20028dc6e">For</a> (int pFrom, int pTo, <a class="elRef" doxygen="/home/minh/repo/vgu_interns/EA/doc/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/utility/functional/function.html">function</a>&lt; void(int)&gt; pFunc)</td></tr>
<tr class="memdesc:ab4ed95e3dfb927b465a6a0b20028dc6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a <b>for</b> loop in parallel.  <a href="#ab4ed95e3dfb927b465a6a0b20028dc6e">More...</a><br /></td></tr>
<tr class="separator:ab4ed95e3dfb927b465a6a0b20028dc6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a8ba96091c266d815f0aba55b45d23"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespaceea.html#ae7e199d72692a6905f583e4623d91b92">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classea_1_1_multi_threading.html#a17a8ba96091c266d815f0aba55b45d23">GetNumThreads</a> ()</td></tr>
<tr class="memdesc:a17a8ba96091c266d815f0aba55b45d23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the maximum number of threads allowed when multi-threading.  <a href="#a17a8ba96091c266d815f0aba55b45d23">More...</a><br /></td></tr>
<tr class="separator:a17a8ba96091c266d815f0aba55b45d23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ce979b2fde28169f8842eeda683c757"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespaceea.html#ae7e199d72692a6905f583e4623d91b92">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classea_1_1_multi_threading.html#a5ce979b2fde28169f8842eeda683c757">GetRealNumThreads</a> ()</td></tr>
<tr class="memdesc:a5ce979b2fde28169f8842eeda683c757"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the real number of threads used currently.  <a href="#a5ce979b2fde28169f8842eeda683c757">More...</a><br /></td></tr>
<tr class="separator:a5ce979b2fde28169f8842eeda683c757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adab578dfbb176a43185f975afca4c473"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classea_1_1_multi_threading.html#adab578dfbb176a43185f975afca4c473">SetNumThreads</a> (<a class="el" href="namespaceea.html#ae7e199d72692a6905f583e4623d91b92">uint</a> pNumThreads)</td></tr>
<tr class="memdesc:adab578dfbb176a43185f975afca4c473"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum number of threads allowed.  <a href="#adab578dfbb176a43185f975afca4c473">More...</a><br /></td></tr>
<tr class="separator:adab578dfbb176a43185f975afca4c473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dcaa2faef642ab507c184d3bb567b72"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classea_1_1_multi_threading.html#a8dcaa2faef642ab507c184d3bb567b72">SetForceEnabled</a> (bool pForced=true)</td></tr>
<tr class="memdesc:a8dcaa2faef642ab507c184d3bb567b72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force-enable the multi-threading feature.  <a href="#a8dcaa2faef642ab507c184d3bb567b72">More...</a><br /></td></tr>
<tr class="separator:a8dcaa2faef642ab507c184d3bb567b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a548dadaa31ae2a3103c5dd8713f2d7"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classea_1_1_multi_threading.html#a9a548dadaa31ae2a3103c5dd8713f2d7">IsForceEnabled</a> ()</td></tr>
<tr class="memdesc:a9a548dadaa31ae2a3103c5dd8713f2d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the multi-threading feature is force-enabled.  <a href="#a9a548dadaa31ae2a3103c5dd8713f2d7">More...</a><br /></td></tr>
<tr class="separator:a9a548dadaa31ae2a3103c5dd8713f2d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab4ed95e3dfb927b465a6a0b20028dc6e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ea::MultiThreading::For </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pFrom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pTo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/minh/repo/vgu_interns/EA/doc/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/utility/functional/function.html">function</a>&lt; void(int)&gt;&#160;</td>
          <td class="paramname"><em>pFunc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute a <b>for</b> loop in parallel. </p>
<p>This function provides a convinient way to implement parallelism in user code. For example, if users need to run this segment of code in parallel:</p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; i++)</div><div class="line">    a[i] = b[i] * i;</div></div><!-- fragment --><p>Using <a class="el" href="classea_1_1_multi_threading.html" title="Static class providing multi-threading feature. ">MultiThreading</a> class, the segment simply changes to:</p>
<div class="fragment"><div class="line"><a class="code" href="classea_1_1_multi_threading.html#ab4ed95e3dfb927b465a6a0b20028dc6e">MultiThreading::For</a>(0, 10, [&amp;] (<span class="keywordtype">int</span> i) {</div><div class="line">    a[i] = b[i] * i;</div><div class="line">});</div></div><!-- fragment --><p>Be caution, thread safety is the responsibility of users. For example, pushing an item into a vector in multi-threading version won't preserve the order of elements. Instead of pushing, it is recommended to access the vector via an absolute index to avoid race condition.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pFrom</td><td>The starting number of the index. </td></tr>
    <tr><td class="paramname">pTo</td><td>The target number of the index (exclusive). </td></tr>
    <tr><td class="paramname">pFunc</td><td>The segment of code. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_multi_threading_8cpp_source.html#l00061">61</a> of file <a class="el" href="_multi_threading_8cpp_source.html">MultiThreading.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a17a8ba96091c266d815f0aba55b45d23"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceea.html#ae7e199d72692a6905f583e4623d91b92">uint</a> ea::MultiThreading::GetNumThreads </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the maximum number of threads allowed when multi-threading. </p>
<p>The returned value of this function is identical to what is set in <a class="el" href="classea_1_1_multi_threading.html#adab578dfbb176a43185f975afca4c473" title="Set the maximum number of threads allowed. ">SetNumThreads()</a>. It will returns 0 if default setting is used, or 1 if multi-threading is disabled. Using the default setting, the number of threads used will be equal to the number of cores available in CPU. To get the real number of threads, use <a class="el" href="classea_1_1_multi_threading.html#a5ce979b2fde28169f8842eeda683c757" title="Get the real number of threads used currently. ">GetRealNumThreads()</a>. </p><dl class="section return"><dt>Returns</dt><dd>The maximum number of threads. </dd></dl>

<p>Definition at line <a class="el" href="_multi_threading_8cpp_source.html#l00090">90</a> of file <a class="el" href="_multi_threading_8cpp_source.html">MultiThreading.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5ce979b2fde28169f8842eeda683c757"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceea.html#ae7e199d72692a6905f583e4623d91b92">uint</a> ea::MultiThreading::GetRealNumThreads </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the real number of threads used currently. </p>
<dl class="section return"><dt>Returns</dt><dd>The real number of threads. Cannot be 0. </dd></dl>

<p>Definition at line <a class="el" href="_multi_threading_8cpp_source.html#l00098">98</a> of file <a class="el" href="_multi_threading_8cpp_source.html">MultiThreading.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9a548dadaa31ae2a3103c5dd8713f2d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ea::MultiThreading::IsForceEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether the multi-threading feature is force-enabled. </p>
<dl class="section return"><dt>Returns</dt><dd>true if it is force-enabled, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="_multi_threading_8cpp_source.html#l00139">139</a> of file <a class="el" href="_multi_threading_8cpp_source.html">MultiThreading.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8dcaa2faef642ab507c184d3bb567b72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ea::MultiThreading::SetForceEnabled </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>pForced</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Force-enable the multi-threading feature. </p>
<p>The multi-threading feature is automatically disabled if cluster computation is activated to avoid interference (because cluster computation is usually blocking and takes all of the CPU usage). If users deploy the cluster remotely and still have some CPU cores to spare, multi-threading feature can be forced to be enabled by calling this function. Set this to true to enable the multi-threading feature regardless the use of cluster computation. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pForced</td><td>true to force-enable the multi-threading feature. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_multi_threading_8cpp_source.html#l00131">131</a> of file <a class="el" href="_multi_threading_8cpp_source.html">MultiThreading.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="adab578dfbb176a43185f975afca4c473"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ea::MultiThreading::SetNumThreads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceea.html#ae7e199d72692a6905f583e4623d91b92">uint</a>&#160;</td>
          <td class="paramname"><em>pNumThreads</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the maximum number of threads allowed. </p>
<p>Set this to 0 if using the default setting, 1 to disable multi-threading, or any arbitrary number as the number of threads. Using the default setting, the number of threads used will be equal to the number of cores available in CPU. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pNumThreads</td><td>The maximum number of threads (or 0 for default setting). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_multi_threading_8cpp_source.html#l00117">117</a> of file <a class="el" href="_multi_threading_8cpp_source.html">MultiThreading.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/misc/<a class="el" href="_multi_threading_8h_source.html">MultiThreading.h</a></li>
<li>src/misc/<a class="el" href="_multi_threading_8cpp_source.html">MultiThreading.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceea.html">ea</a></li><li class="navelem"><a class="el" href="classea_1_1_multi_threading.html">MultiThreading</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
